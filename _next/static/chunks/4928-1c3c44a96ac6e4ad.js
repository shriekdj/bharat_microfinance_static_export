"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4928],{94928:(e,t,r)=>{r.d(t,{Kq:()=>i,Xr:()=>w,fp:()=>m,md:()=>h});var n=r(12115),l=r(21416);let o=(0,n.createContext)(void 0),a=e=>{let t=(0,n.useContext)(o);return(null==e?void 0:e.store)||t||(0,l.zp)()},i=e=>{let{children:t,store:r}=e,a=(0,n.useRef)(void 0);return r||a.current||(a.current=(0,l.y$)()),(0,n.createElement)(o.Provider,{value:r||a.current},t)},u=e=>"function"==typeof(null==e?void 0:e.then),s=e=>{e.status="pending",e.then(t=>{e.status="fulfilled",e.value=t},t=>{e.status="rejected",e.reason=t})},f=n.use||(e=>{if("pending"===e.status)throw e;if("fulfilled"===e.status)return e.value;if("rejected"===e.status)throw e.reason;throw s(e),e}),d=new WeakMap,c=e=>{let t=d.get(e);return t||(t=new Promise((r,n)=>{let l=e,o=e=>t=>{l===e&&r(t)},a=e=>t=>{l===e&&n(t)},i=e=>{"onCancel"in e&&"function"==typeof e.onCancel&&e.onCancel(n=>{if(n===e)throw Error("[Bug] p is not updated even after cancelation");u(n)?(d.set(n,t),l=n,n.then(o(n),a(n)),i(n)):r(n)})};e.then(o(e),a(e)),i(e)}),d.set(e,t)),t};function h(e,t){let r=a(t),[[l,o,i],d]=(0,n.useReducer)(t=>{let n=r.get(e);return Object.is(t[0],n)&&t[1]===r&&t[2]===e?t:[n,r,e]},void 0,()=>[r.get(e),r,e]),h=l;(o!==r||i!==e)&&(d(),h=r.get(e));let w=null==t?void 0:t.delay;return((0,n.useEffect)(()=>{let t=r.sub(e,()=>{if("number"==typeof w){let t=r.get(e);u(t)&&s(c(t)),setTimeout(d,w);return}d()});return d(),t},[r,e,w]),(0,n.useDebugValue)(h),u(h))?f(c(h)):h}function w(e,t){let r=a(t);return(0,n.useCallback)(function(){for(var t=arguments.length,n=Array(t),l=0;l<t;l++)n[l]=arguments[l];if(!("write"in e))throw Error("not writable atom");return r.set(e,...n)},[r,e])}function m(e,t){return[h(e,t),w(e,t)]}},21416:(e,t,r)=>{let n;r.d(t,{eU:()=>o,y$:()=>C,zp:()=>D});let l=0;function o(e,t){let r=`atom${++l}`,n={toString(){return this.debugLabel?r+":"+this.debugLabel:r}};return"function"==typeof e?n.read=e:(n.init=e,n.read=a,n.write=i),t&&(n.write=t),n}function a(e){return e(this)}function i(e,t,r){return t(this,"function"==typeof r?r(e(this)):r)}let u=(e,t)=>e.unstable_is?e.unstable_is(t):t===e,s=e=>"init"in e,f=e=>!!e.write,d=new WeakMap,c=e=>{var t;return m(e)&&!(null==(t=d.get(e))?void 0:t[1])},h=(e,t)=>{let r=d.get(e);if(r)r[1]=!0,r[0].forEach(e=>e(t));else throw Error("[Bug] cancelable promise not found")},w=e=>{if(d.has(e))return;let t=[new Set,!1];d.set(e,t);let r=()=>{t[1]=!0};e.then(r,r),e.onCancel=e=>{t[0].add(e)}},m=e=>"function"==typeof(null==e?void 0:e.then),v=e=>"v"in e||"e"in e,p=e=>{if("e"in e)throw e.e;if(!("v"in e))throw Error("[Bug] atom state is not initialized");return e.v},y=(e,t,r)=>{r.p.has(e)||(r.p.add(e),t.then(()=>{r.p.delete(e)},()=>{r.p.delete(e)}))},g=(e,t,r,n,l)=>{var o;if(n===t)throw Error("[Bug] atom cannot depend on itself");r.d.set(n,l.n),c(r.v)&&y(t,r.v,l),null==(o=l.m)||o.t.add(t),e&&S(e,n,t)},_=()=>({D:new Map,H:new Set,M:new Set,L:new Set}),b=(e,t,r)=>{e[t].add(r)},E=(e,t,r)=>{e.D.has(t)||(e.D.set(t,new Set),b(e,"M",()=>{var t;null==(t=r.m)||t.l.forEach(t=>b(e,"M",t))}))},S=(e,t,r)=>{let n=e.D.get(t);n&&n.add(r)},k=(e,t)=>e.D.get(t),M=e=>{let t;let r=!1,n=e=>{try{e()}catch(e){r||(t=e,r=!0)}};for(;e.H.size||e.M.size||e.L.size;)e.D.clear(),e.H.forEach(n),e.H.clear(),e.M.forEach(n),e.M.clear(),e.L.forEach(n),e.L.clear();if(r)throw t},T=(...[e,t,r,n])=>{let l=(t,r,n)=>{let l="v"in r,o=r.v,a=c(r.v)?r.v:null;if(m(n)){for(let l of(w(n),r.d.keys()))y(t,n,e(l));r.v=n}else r.v=n;delete r.e,delete r.x,l&&Object.is(o,r.v)||(++r.n,a&&h(a,n))},o=(r,n)=>{var a;let i,d;let c=e(n);if(v(c)&&(c.m&&!c.x||Array.from(c.d).every(([e,t])=>o(r,e).n===t)))return c;c.d.clear();let h=!0;try{let w=t(n,t=>{if(u(n,t)){let r=e(t);if(!v(r)){if(s(t))l(t,r,t.init);else throw Error("no atom init")}return p(r)}let a=o(r,t);try{return p(a)}finally{if(h)g(r,n,c,t,a);else{let e=_();g(e,n,c,t,a),A(e,n,c),M(e)}}},{get signal(){return i||(i=new AbortController),i.signal},get setSelf(){return f(n)||console.warn("setSelf function cannot be used with read-only atom"),!d&&f(n)&&(d=(...e)=>{if(h&&console.warn("setSelf function cannot be called in sync"),!h)return S(n,...e)}),d}});if(l(n,c,w),m(w)){null==(a=w.onCancel)||a.call(w,()=>null==i?void 0:i.abort());let e=()=>{if(c.m){let e=_();A(e,n,c),M(e)}};w.then(e,e)}return c}catch(e){return delete c.v,c.e=e,delete c.x,++c.n,c}finally{h=!1}},a=(t,r,n)=>{var l,o;let a=new Map;for(let t of(null==(l=n.m)?void 0:l.t)||[]){let r=e(t);r.m&&a.set(t,r)}for(let t of n.p)a.set(t,e(t));return null==(o=k(t,r))||o.forEach(t=>{a.set(t,e(t))}),a},i=(e,t,r)=>{let n=[],l=new Set,i=new Set,u=[[t,r]];for(;u.length>0;){let[t,r]=u[u.length-1];if(i.has(t)){u.pop();continue}if(l.has(t)){n.push([t,r,r.n]),i.add(t),r.x=!0,u.pop();continue}for(let[n,o]of(l.add(t),a(e,t,r)))t===n||l.has(n)||u.push([n,o])}b(e,"H",()=>{let r=new Set([t]);for(let t=n.length-1;t>=0;--t){let[l,a,i]=n[t],u=!1;for(let e of a.d.keys())if(e!==l&&r.has(e)){u=!0;break}u&&(o(e,l),A(e,l,a),i!==a.n&&(E(e,l,a),r.add(l))),delete a.x}})},d=(t,n,...a)=>{let f=!0;try{return r(n,e=>p(o(t,e)),(r,...o)=>{let a=e(r);try{if(!u(n,r))return d(t,r,...o);{if(!s(r))throw Error("atom not writable");let e=a.n,n=o[0];l(r,a,n),A(t,r,a),e!==a.n&&(E(t,r,a),i(t,r,a));return}}finally{f||M(t)}},...a)}finally{f=!1}},S=(e,...t)=>{let r=_();try{return d(r,e,...t)}finally{M(r)}},A=(t,r,n)=>{if(n.m&&!c(n.v)){for(let l of n.d.keys())n.m.d.has(l)||(C(t,l,e(l)).t.add(r),n.m.d.add(l));for(let l of n.m.d||[])if(!n.d.has(l)){n.m.d.delete(l);let o=D(t,l,e(l));null==o||o.t.delete(r)}}},C=(t,r,l)=>{if(!l.m){for(let n of(o(t,r),l.d.keys()))C(t,n,e(n)).t.add(r);if(l.m={l:new Set,d:new Set(l.d.keys()),t:new Set},f(r)){let e;let o=l.m,a=(t,n)=>{let l=!0;e=(...e)=>{try{return d(t,r,...e)}finally{l||M(t)}};try{return n()}finally{l=!1}};b(t,"L",()=>{let l=a(t,()=>n(r,(...t)=>e(...t)));l&&(o.u=e=>a(e,l))})}}return l.m},D=(t,r,n)=>{if(n.m&&!n.m.l.size&&!Array.from(n.m.t).some(t=>{var n;return null==(n=e(t).m)?void 0:n.d.has(r)})){let l=n.m.u;for(let o of(l&&b(t,"L",()=>l(t)),delete n.m,n.d.keys())){let n=D(t,o,e(o));null==n||n.t.delete(r)}return}return n.m};return{get:e=>p(o(void 0,e)),set:S,sub:(t,r)=>{let n=_(),l=e(t),o=C(n,t,l).l;return o.add(r),M(n),()=>{o.delete(r);let e=_();D(e,t,l),M(e)}},unstable_derive:l=>T(...l(e,t,r,n))}},A=e=>{let t;let r=new WeakMap,n=new Set,l=0,o=e.unstable_derive((e,o,a,i)=>(t=e,[t=>{let l=r.get(t);return l||(l=new Proxy(e(t),{set:(e,r,l)=>("m"===r&&n.add(t),Reflect.set(e,r,l)),deleteProperty:(e,r)=>("m"===r&&n.delete(t),Reflect.deleteProperty(e,r))}),r.set(t,l)),l},o,(e,t,r,...n)=>l?r(e,...n):a(e,t,r,...n),i])),a=o.set;return Object.assign(o,{dev4_get_internal_weak_map:()=>({get:e=>{let r=t(e);if(0!==r.n)return r}}),dev4_get_mounted_atoms:()=>n,dev4_restore_atoms:e=>{a({read:()=>null,write:(t,r)=>{++l;try{for(let[t,n]of e)s(t)&&r(t,n)}finally{--l}}})}})},C=()=>{let e=new WeakMap;return A(T(t=>{if(!t)throw Error("Atom is undefined or null");let r=e.get(t);return r||(r={d:new Map,p:new Set,n:0},e.set(t,r)),r},(e,...t)=>e.read(...t),(e,...t)=>e.write(...t),(e,...t)=>{var r;return null==(r=e.onMount)?void 0:r.call(e,...t)}))},D=()=>(n||(n=C(),globalThis.__JOTAI_DEFAULT_STORE__||(globalThis.__JOTAI_DEFAULT_STORE__=n),globalThis.__JOTAI_DEFAULT_STORE__!==n&&console.warn("Detected multiple Jotai instances. It may cause unexpected behavior with the default store. https://github.com/pmndrs/jotai/discussions/2044")),n)}}]);